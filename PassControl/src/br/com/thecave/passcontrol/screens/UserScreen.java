package br.com.thecave.passcontrol.screens;

import br.com.thecave.passcontrol.controler.Main;
import br.com.thecave.passcontrol.controler.Usuario;
import br.com.thecave.passcontrol.db.bean.UserBean;
import br.com.thecave.passcontrol.messages.administrator.AdministratorAddUser;
import br.com.thecave.passcontrol.util.Validation;
import br.com.thecave.passcontrol.util.Validation.ErrorsField;
import java.awt.event.ComponentAdapter;
import java.awt.event.ComponentEvent;
import javax.swing.JOptionPane;

/**
 *
 * @author Antonio Arleudo da costa
 */
public final class UserScreen extends javax.swing.JFrame 
{

    /**
     * Creates new form AdministratorScreen
     */
    public UserScreen() 
    {
        initComponents();
        onVisible();
        resetScreen();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        bgTipoUser = new javax.swing.ButtonGroup();
        jPanel1 = new javax.swing.JPanel();
        jlUser = new javax.swing.JLabel();
        jlLogout = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        cbCodUser = new javax.swing.JComboBox();
        tfNameUser = new javax.swing.JTextField();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        tfLoginUser = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        tfSenha = new javax.swing.JPasswordField();
        jLabel5 = new javax.swing.JLabel();
        rbAdmin = new javax.swing.JRadioButton();
        rbUser = new javax.swing.JRadioButton();
        pnButtons = new javax.swing.JPanel();
        btNovo = new javax.swing.JButton();
        btSave = new javax.swing.JButton();
        btDelete = new javax.swing.JButton();
        btLimpar = new javax.swing.JButton();
        btCancel = new javax.swing.JButton();
        elName = new javax.swing.JLabel();
        elLogin = new javax.swing.JLabel();
        elSenha = new javax.swing.JLabel();
        jMenuBar1 = new javax.swing.JMenuBar();
        jmFile = new javax.swing.JMenu();
        jmNewUser = new javax.swing.JMenuItem();
        jmSaveUsuario = new javax.swing.JMenuItem();
        jmDeleteUsuario = new javax.swing.JMenuItem();
        jSeparator1 = new javax.swing.JPopupMenu.Separator();
        jmVoltar = new javax.swing.JMenuItem();
        jSeparator2 = new javax.swing.JPopupMenu.Separator();
        jmSair = new javax.swing.JMenuItem();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Cadastro de Usuários");
        setBackground(new java.awt.Color(255, 255, 255));
        setName("frmScreenLogin"); // NOI18N

        jPanel1.setBackground(new java.awt.Color(187, 215, 248));
        jPanel1.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(35, 136, 219), 3));
        jPanel1.setAutoscrolls(true);

        jlUser.setText("User: ");

        jlLogout.setFont(new java.awt.Font("Tahoma", 3, 12)); // NOI18N
        jlLogout.setForeground(new java.awt.Color(0, 0, 255));
        jlLogout.setText("Log Out");
        jlLogout.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jlLogoutMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jlLogout, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jlUser, javax.swing.GroupLayout.Alignment.TRAILING))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap(42, Short.MAX_VALUE)
                .addComponent(jlUser)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jlLogout)
                .addContainerGap())
        );

        jPanel2.setBackground(new java.awt.Color(255, 255, 255));
        jPanel2.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 255), 3));

        cbCodUser.setBackground(new java.awt.Color(220, 240, 248));
        cbCodUser.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        cbCodUser.setToolTipText("Clique para escolher o código do usuário!");

        tfNameUser.setBackground(new java.awt.Color(220, 240, 248));
        tfNameUser.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tfNameUserActionPerformed(evt);
            }
        });
        tfNameUser.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfNameUserFocusLost(evt);
            }
        });

        jLabel1.setText("Código do usuário");

        jLabel2.setText("Nome do usuário");

        jLabel3.setText("Login do usuário");

        tfLoginUser.setBackground(new java.awt.Color(220, 240, 248));
        tfLoginUser.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfLoginUserFocusLost(evt);
            }
        });

        jLabel4.setText("Senha do usuário");

        tfSenha.setBackground(new java.awt.Color(220, 240, 248));
        tfSenha.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfSenhaFocusLost(evt);
            }
        });

        jLabel5.setText("Tipo do usuário");

        bgTipoUser.add(rbAdmin);
        rbAdmin.setText("Administrador");

        bgTipoUser.add(rbUser);
        rbUser.setText("Usuário");

        pnButtons.setBackground(new java.awt.Color(255, 255, 255));

        btNovo.setText("Novo");
        btNovo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btNovoActionPerformed(evt);
            }
        });

        btSave.setText("Salvar");
        btSave.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btSaveActionPerformed(evt);
            }
        });

        btDelete.setText("Deletar");
        btDelete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btDeleteActionPerformed(evt);
            }
        });

        btLimpar.setText("Limpar");
        btLimpar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btLimparActionPerformed(evt);
            }
        });

        btCancel.setText("Cancelar");
        btCancel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btCancelActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnButtonsLayout = new javax.swing.GroupLayout(pnButtons);
        pnButtons.setLayout(pnButtonsLayout);
        pnButtonsLayout.setHorizontalGroup(
            pnButtonsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnButtonsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnButtonsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btSave, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(pnButtonsLayout.createSequentialGroup()
                        .addGroup(pnButtonsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnButtonsLayout.createSequentialGroup()
                                .addComponent(btDelete, javax.swing.GroupLayout.PREFERRED_SIZE, 161, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(btCancel, javax.swing.GroupLayout.PREFERRED_SIZE, 161, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(pnButtonsLayout.createSequentialGroup()
                                .addComponent(btNovo, javax.swing.GroupLayout.PREFERRED_SIZE, 161, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(btLimpar, javax.swing.GroupLayout.PREFERRED_SIZE, 161, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(0, 8, Short.MAX_VALUE)))
                .addContainerGap())
        );
        pnButtonsLayout.setVerticalGroup(
            pnButtonsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnButtonsLayout.createSequentialGroup()
                .addComponent(btSave, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnButtonsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btNovo, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btLimpar, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(17, 17, 17)
                .addGroup(pnButtonsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btDelete, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btCancel, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        elName.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/thecave/passcontrol/screens/errovalid.png"))); // NOI18N

        elLogin.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/thecave/passcontrol/screens/errovalid.png"))); // NOI18N

        elSenha.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/thecave/passcontrol/screens/errovalid.png"))); // NOI18N

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(cbCodUser, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel1)
                            .addComponent(jLabel2))
                        .addGap(90, 90, 90)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel5)
                            .addComponent(rbAdmin)
                            .addComponent(rbUser)))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel3)
                            .addComponent(tfLoginUser)
                            .addComponent(jLabel4)
                            .addComponent(tfSenha, javax.swing.GroupLayout.DEFAULT_SIZE, 370, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(elLogin, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(elSenha, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(tfNameUser, javax.swing.GroupLayout.PREFERRED_SIZE, 370, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(elName, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addContainerGap(940, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(pnButtons, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel1)
                        .addGap(8, 8, 8)
                        .addComponent(cbCodUser, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel2))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel5)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(rbAdmin)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(rbUser)))
                .addGap(3, 3, 3)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(elName, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tfNameUser, javax.swing.GroupLayout.DEFAULT_SIZE, 28, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabel3)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(elLogin, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tfLoginUser, javax.swing.GroupLayout.DEFAULT_SIZE, 28, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel4)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(elSenha, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tfSenha, javax.swing.GroupLayout.DEFAULT_SIZE, 28, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 96, Short.MAX_VALUE)
                .addComponent(pnButtons, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jmFile.setMnemonic('B');
        jmFile.setText("Arquivo");

        jmNewUser.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_N, java.awt.event.InputEvent.ALT_MASK));
        jmNewUser.setMnemonic('n');
        jmNewUser.setText("Novo Usuário");
        jmNewUser.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jmNewUserActionPerformed(evt);
            }
        });
        jmFile.add(jmNewUser);

        jmSaveUsuario.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_S, java.awt.event.InputEvent.ALT_MASK));
        jmSaveUsuario.setMnemonic('S');
        jmSaveUsuario.setText("Salvar Usuário");
        jmSaveUsuario.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jmSaveUsuarioActionPerformed(evt);
            }
        });
        jmFile.add(jmSaveUsuario);

        jmDeleteUsuario.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_D, java.awt.event.InputEvent.ALT_MASK));
        jmDeleteUsuario.setMnemonic('d');
        jmDeleteUsuario.setText("Deletar Usuário");
        jmDeleteUsuario.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jmDeleteUsuarioActionPerformed(evt);
            }
        });
        jmFile.add(jmDeleteUsuario);
        jmFile.add(jSeparator1);

        jmVoltar.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_V, java.awt.event.InputEvent.ALT_MASK));
        jmVoltar.setMnemonic('v');
        jmVoltar.setText("Voltar");
        jmVoltar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jmVoltarActionPerformed(evt);
            }
        });
        jmFile.add(jmVoltar);
        jmFile.add(jSeparator2);

        jmSair.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_I, java.awt.event.InputEvent.ALT_MASK));
        jmSair.setMnemonic('i');
        jmSair.setText("Sair");
        jmSair.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jmSairActionPerformed(evt);
            }
        });
        jmFile.add(jmSair);

        jMenuBar1.add(jmFile);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jlLogoutMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jlLogoutMouseClicked
        performLogout();
    }//GEN-LAST:event_jlLogoutMouseClicked

    private void jmNewUserActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jmNewUserActionPerformed
        novoUser();
    }//GEN-LAST:event_jmNewUserActionPerformed

    private void jmSaveUsuarioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jmSaveUsuarioActionPerformed
        saveUser();
    }//GEN-LAST:event_jmSaveUsuarioActionPerformed

    private void jmDeleteUsuarioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jmDeleteUsuarioActionPerformed
        deleteUser();
    }//GEN-LAST:event_jmDeleteUsuarioActionPerformed

    private void jmVoltarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jmVoltarActionPerformed
        voltar();
    }//GEN-LAST:event_jmVoltarActionPerformed

    private void jmSairActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jmSairActionPerformed
        sair();
    }//GEN-LAST:event_jmSairActionPerformed

    private void btNovoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btNovoActionPerformed
        novoUser();
    }//GEN-LAST:event_btNovoActionPerformed

    private void btSaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btSaveActionPerformed
        saveUser();
    }//GEN-LAST:event_btSaveActionPerformed

    private void btDeleteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btDeleteActionPerformed
        deleteUser();
    }//GEN-LAST:event_btDeleteActionPerformed

    private void btLimparActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btLimparActionPerformed
        clearScreen();
    }//GEN-LAST:event_btLimparActionPerformed

    private void tfNameUserActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tfNameUserActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tfNameUserActionPerformed

    private void btCancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btCancelActionPerformed
        cancelar();
    }//GEN-LAST:event_btCancelActionPerformed

    private void tfNameUserFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfNameUserFocusLost
        validUserName();
    }//GEN-LAST:event_tfNameUserFocusLost

    private void tfLoginUserFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfLoginUserFocusLost
        validLogin();
    }//GEN-LAST:event_tfLoginUserFocusLost

    private void tfSenhaFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfSenhaFocusLost
        validPassword();
    }//GEN-LAST:event_tfSenhaFocusLost

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.ButtonGroup bgTipoUser;
    private javax.swing.JButton btCancel;
    private javax.swing.JButton btDelete;
    private javax.swing.JButton btLimpar;
    private javax.swing.JButton btNovo;
    private javax.swing.JButton btSave;
    private javax.swing.JComboBox cbCodUser;
    private javax.swing.JLabel elLogin;
    private javax.swing.JLabel elName;
    private javax.swing.JLabel elSenha;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPopupMenu.Separator jSeparator1;
    private javax.swing.JPopupMenu.Separator jSeparator2;
    private javax.swing.JLabel jlLogout;
    private javax.swing.JLabel jlUser;
    private javax.swing.JMenuItem jmDeleteUsuario;
    private javax.swing.JMenu jmFile;
    private javax.swing.JMenuItem jmNewUser;
    private javax.swing.JMenuItem jmSair;
    private javax.swing.JMenuItem jmSaveUsuario;
    private javax.swing.JMenuItem jmVoltar;
    private javax.swing.JPanel pnButtons;
    private javax.swing.JRadioButton rbAdmin;
    private javax.swing.JRadioButton rbUser;
    private javax.swing.JTextField tfLoginUser;
    private javax.swing.JTextField tfNameUser;
    private javax.swing.JPasswordField tfSenha;
    // End of variables declaration//GEN-END:variables

    //==============================================================================   
    /**
     * Exibe uma caixa de seleção pra confirmar o logout do usuário
     */
    private void performLogout()
    {
        int result = JOptionPane.showConfirmDialog(null, 
                    "Você deseja realmente sair? " 
                       ,"Message", JOptionPane.WARNING_MESSAGE
                    , JOptionPane.OK_CANCEL_OPTION);
        
        if( JOptionPane.CANCEL_OPTION == result )
        {
            // do nothing
        }
        else if( JOptionPane.OK_OPTION == result)
        {
            this.setVisible(false);
            Main.login.setVisible(true);
        }
        else
        {
            // do nothing
        }
    }
    //==============================================================================
    public void novoUser()
    {
        // habilitando os botões
        btLimpar.setEnabled(true);
        btSave.setEnabled(true);
        rbAdmin.setEnabled(true);
        rbUser.setEnabled(true);
        btCancel.setEnabled(true);
        // habilitando os menus
        jmSaveUsuario.setEnabled(true);
        // habilitar os fields
        tfLoginUser.setEnabled(true);
        tfNameUser.setEnabled(true);
        tfSenha.setEnabled(true);
        // desabilitando botao e menu
        jmNewUser.setEnabled(false);
        btNovo.setEnabled(false);
        cbCodUser.setEnabled(false);
        cbCodUser.setSelectedItem(null);
    }
    //==============================================================================
    public void saveUser()
    {
        UserBean bean = writeBeanFromScreen();
        //TODO: implements
        AdministratorAddUser addUser = new AdministratorAddUser();
        addUser.setBean(bean);
        
        JOptionPane.showMessageDialog(null, "Usuário salvo com sucesso");
        resetScreen();
    }
    //==============================================================================
    public void deleteUser()
    {
        //TODO: implements
        JOptionPane.showMessageDialog(null, "delete usuario");
    }
    //==============================================================================
    public void voltar()
    {
        clearScreen();
        this.setVisible(false);
        Main.adminScreen.setVisible(true);
    }
    //==============================================================================
    public void sair()
    {
        System.exit(0);
    }
    //==============================================================================
    public void clearScreen()
    {
        tfNameUser.setText("");
        tfLoginUser.setText("");
        tfSenha.setText("");
        rbAdmin.setSelected(false);
        rbUser.setSelected(false);
        // desabilitando os errosLabel
        elLogin.setVisible(false);
        elName.setVisible(false);
        elSenha.setVisible(false);
   }
    //==============================================================================
    public void resetScreen()
    {
        // limpa a tela
        clearScreen();
        // trava os botoes
        btDelete.setEnabled(false);
        btLimpar.setEnabled(false);
        btSave.setEnabled(false);
        rbAdmin.setEnabled(false);
        rbUser.setEnabled(false);
        btCancel.setEnabled(false);
        // trava os menus 
        jmDeleteUsuario.setEnabled(false);
        jmSaveUsuario.setEnabled(false);
        // trava os fields
        tfLoginUser.setEnabled(false);
        tfNameUser.setEnabled(false);
        tfSenha.setEnabled(false);
        // habilita o comboBox, botao e menu
        cbCodUser.setEnabled(true);
        btNovo.setEnabled(true);
        jmNewUser.setEnabled(true);        
    }
    //==============================================================================
    public void onVisible() 
    {
        this.addComponentListener(new ComponentAdapter() 
        {
            @Override
            public void componentShown(ComponentEvent e) 
            {
                jlUser.setText("Usuário: " + Usuario.getInstance().getName());
            }
        });
    }
    //==============================================================================
    public void cancelar()
    {
        resetScreen();
    }
    //==============================================================================
    public UserBean writeBeanFromScreen()
    {
        UserBean bean = null;
        // chama a validação
        if( validScreen() )
        {
            // pegando informações da tela
            bean = new UserBean();
            bean.setLogin(tfLoginUser.getText());
            bean.setName(tfNameUser.getText());
            bean.setPassword(new String(tfSenha.getPassword()));
        }
        return bean;
    }
    //==============================================================================
    private boolean validScreen() 
    {
        return ( validUserName() && validLogin() && validPassword() );
    }
    //==============================================================================
    private boolean validUserName() 
    {
        ErrorsField ret = Validation.validStringSize(tfNameUser.getText(), 4, 25);
        if( ret != Validation.ErrorsField.SUCCESS_VALIDATION)
        {
            elName.setVisible(true);
            elName.setToolTipText(ret.toString());
            return false;
        }
        else
        {
            elName.setVisible(false);
            return true;
        }        
    }
    //==============================================================================
    private boolean validLogin() 
    {
        ErrorsField ret = Validation.validStringSize(tfLoginUser.getText(), 4, 25);
        if( ret != Validation.ErrorsField.SUCCESS_VALIDATION)
        {
            elLogin.setVisible(true);
            elLogin.setToolTipText(ret.toString());
            return false;
        }
        else
        {
            elLogin.setVisible(false);
            return true;
        }
    }
    //==============================================================================
    private boolean validPassword() 
    {
        ErrorsField ret = Validation.validStringSize(new String(tfSenha.getPassword()), 4, 25);
        if( ret != Validation.ErrorsField.SUCCESS_VALIDATION)
        {
            elSenha.setVisible(true);
            elSenha.setToolTipText(ret.toString());
            return false;
        }
        else
        {
            elSenha.setVisible(false);
            return true;
        }
    }
    //==============================================================================
}

